// seed.js
const { open } = require("sqlite");
const sqlite3 = require("sqlite3");
const { categorizeTags } = require("./categorize.js");

// --- Paste the data you discovered here ---

// Data from List `s`
const staticTagsObject = {
  Chill: null,
  Energetic: null,
  Party: null,
  Ambient: null,
  "Lo-fi": null,
  Jazz: null,
  Electronic: null,
  "Tropical House": null,
  "Deep House": null,
  Techno: null,
  Trance: null,
  Dubstep: null,
  "Drum & Bass": null,
  Synthwave: null,
  Vaporwave: null,
  FutureBass: null,
  Trap: null,
  Hardstyle: null,
  ProgressiveHouse: null,
  Minimal: null,
  Downtempo: null,
  FutureBass: null,
  Trap: null,
  Hardstyle: null,
  ProgressiveHouse: null,
  Minimal: null,
  Downtempo: null,
  Chillstep: null,
  "Liquid DnB": null,
  Psytrance: null,
  Breakbeat: null,
  Garage: null,
  Afrobeat: null,
  Latin: null,
  Reggaeton: null,
  "Bossa Nova": null,
  Salsa: null,
  Flamenco: null,
  Celtic: null,
  Nordic: null,
  Mediterranean: null,
  "Middle Eastern": null,
  "Asian Fusion": null,
  Bollywood: null,
  "K-Pop": null,
  "J-Pop": null,
  "City Pop": null,
  Funk: null,
  Disco: null,
  Soul: null,
  "R&B": null,
  Gospel: null,
  Blues: null,
  Rock: null,
  Indie: null,
  Folk: null,
  Country: null,
  Bluegrass: null,
  Classical: null,
  Baroque: null,
  Romantic: null,
  ModernClassical: null,
  Cinematic: null,
  Epic: null,
  Dark: null,
  Ethereal: null,
  Mystical: null,
  Retro: null,
  "80s": null,
  "90s": null,
  "2000s": null,
  Acoustic: null,
  Piano: null,
  Orchestral: null,
  StringQuartet: null,
  Brass: null,
  Woodwind: null,
  Percussive: null,
  Nature: null,
  Ocean: null,
  Forest: null,
  Urban: null,
  Industrial: null,
  Glitch: null,
  Noise: null,
  Drone: null,
  Meditation: null,
  Yoga: null,
  Spa: null,
  Study: null,
  Sleep: null,
  Morning: null,
  Sunset: null,
  Night: null,
  Space: null,
  Cyberpunk: null,
  Steampunk: null,
  Fantasy: null,
  "8-bit": null,
  Chipwave: null,
  Kawaii: null,
  Melancholic: null,
  Euphoric: null,
  Aggressive: null,
  ModernClassical: null,
  Cinematic: null,
  Epic: null,
  Dark: null,
  Ethereal: null,
  Mystical: null,
  Retro: null,
  "80s": null,
  "90s": null,
  "2000s": null,
  Acoustic: null,
  Piano: null,
  Orchestral: null,
  StringQuartet: null,
  Brass: null,
  Woodwind: null,
  Percussive: null,
  Nature: null,
  Ocean: null,
  Forest: null,
  Urban: null,
  Industrial: null,
  Glitch: null,
  Noise: null,
  Drone: null,
  Meditation: null,
  Yoga: null,
  Spa: null,
  Study: null,
  Sleep: null,
  Morning: null,
  Sunset: null,
  Night: null,
  Space: null,
  Cyberpunk: null,
  Steampunk: null,
  Fantasy: null,
  "8-bit": null,
  Chipwave: null,
  Kawaii: null,
  Melancholic: null,
  Euphoric: null,
  Aggressive: null,
  ModernClassical: null,
  Cinematic: null,
  Experimental: null,
  House: null,
};

// Data from List `h` (related tags)
const relatedTagsObject = {
  rap: {
    trap: null,
    pop: null,
    bass: null,
    "hip hop": null,
    beat: null,
    rock: null,
    metal: null,
    melodic: null,
    aggressive: null,
  },
  melodic: {
    pop: null,
    metal: null,
    rap: null,
    rock: null,
    beat: null,
    guitar: null,
    bass: null,
    synth: null,
    piano: null,
    epic: null,
  },
  "hip hop": {
    rap: null,
    pop: null,
    punk: null,
    trap: null,
    bass: null,
    "r&b": null,
    "lo-fi": null,
    beat: null,
    rock: null,
    metal: null,
  },
  "r&b": {
    pop: null,
    soul: null,
    electro: null,
    rap: null,
    electronic: null,
    funk: null,
    "hip hop": null,
    smooth: null,
    "male vocals": null,
    jazz: null,
  },
  epic: {
    metal: null,
    orchestral: null,
    rock: null,
    bass: null,
    drum: null,
    guitar: null,
    pop: null,
    emo: null,
    beat: null,
    "male voice": null,
  },
  opera: {
    rock: null,
    powerful: null,
    metal: null,
    pop: null,
    punk: null,
    epic: null,
    "80s": null,
    dark: null,
    "pop rock": null,
    melodic: null,
  },
  cinematic: {
    orchestral: null,
    epic: null,
    atmospheric: null,
    synth: null,
    metal: null,
    electronic: null,
    piano: null,
    ambient: null,
    electro: null,
    dark: null,
  },
  dramatic: {
    epic: null,
    rock: null,
    orchestral: null,
    dark: null,
    pop: null,
    opera: null,
    piano: null,
    bass: null,
    guitar: null,
    powerful: null,
  },
  "lo-fi": {
    chill: null,
    funk: null,
    japanese: null,
    pop: null,
    jazz: null,
    "hip hop": null,
    electro: null,
    synth: null,
    rock: null,
    mellow: null,
  },
  japanese: {
    funk: null,
    "lo-fi": null,
    rock: null,
    pop: null,
    electro: null,
    vocaloid: null,
    metal: null,
    anime: null,
    synth: null,
    swing: null,
  },
  beat: {
    upbeat: null,
    pop: null,
    bass: null,
    rap: null,
    synth: null,
    electro: null,
    drum: null,
    rock: null,
    electronic: null,
    melodic: null,
  },
  rock: {
    pop: null,
    metal: null,
    "hard rock": null,
    guitar: null,
    punk: null,
    "alternative rock": null,
    indie: null,
    rap: null,
    electro: null,
    emo: null,
  },
  guitar: {
    rock: null,
    drum: null,
    bass: null,
    metal: null,
    "electric guitar": null,
    piano: null,
    pop: null,
    acoustic: null,
    "acoustic guitar": null,
    "male voice": null,
  },
  "hard rock": {
    rock: null,
    metal: null,
    guitar: null,
    industrial: null,
    "heavy metal": null,
    powerful: null,
    bass: null,
    drum: null,
    pop: null,
    aggressive: null,
  },
  bass: {
    drum: 215e9,
    guitar: 126e8,
    rap: 109e7,
    beat: 94e6,
    "drum and bass": 84e5,
    pop: 81e4,
    rock: 71e3,
    deep: 7e3,
    piano: 660,
    synth: 66,
  },
  "male voice": {
    "female voice": 167e9,
    pop: 102e8,
    rock: 7e8,
    guitar: 64e6,
    bass: 6e6,
    drum: 45e4,
    rap: 36e3,
    beat: 3500,
    deep: 350,
    piano: 32,
  },
  "female voice": {
    "male voice": 167e9,
    pop: 5e9,
    bass: 34e7,
    guitar: 26e6,
    rock: 25e5,
    drum: 21e4,
    beat: 18e3,
    punk: 1700,
    electro: 170,
    edm: 17,
  },
  drum: {
    bass: 215e9,
    guitar: 134e8,
    "drum and bass": 84e7,
    rock: 75e6,
    metal: 64e5,
    beat: 62e4,
    pop: 57e3,
    piano: 5300,
    epic: 500,
    "male voice": 45,
  },
  "drum and bass": {
    bass: 84e9,
    drum: 84e8,
    electro: 13e7,
    electronic: 12e6,
    vocaloid: 11e5,
    emo: 8e4,
    pop: 8e3,
    experimental: 800,
    funk: 7,
  },
  metal: {
    rock: 223e9,
    "heavy metal": 18e9,
    guitar: 125e7,
    "nu metal": 114e6,
    aggressive: 95e5,
    epic: 91e4,
    rap: 88e3,
    "hard rock": 8600,
    melodic: 730,
    dark: 68,
  },
  "heavy metal": {
    metal: 18e10,
    rock: 4e9,
    guitar: 32e7,
    bass: 28e6,
    drum: 28e5,
    aggressive: 28e4,
    "hard rock": 25e3,
    powerful: 2400,
    epic: 190,
  },
  pop: {
    rock: 315e9,
    electro: 265e8,
    beat: 243e7,
    upbeat: 197e6,
    electronic: 162e5,
    synth: 16e5,
    "j-pop": 157e3,
    punk: 14800,
    dance: 1450,
    indie: 137,
  },
  orchestral: {
    epic: 68e9,
    cinematic: 33e8,
    emo: 32e7,
    emotional: 3e7,
    drum: 26e5,
    metal: 22e4,
    guitar: 21e3,
    dark: 2100,
    bass: 190,
    piano: 15,
  },
  "alternative rock": {
    rock: 121e9,
    metal: 34e8,
    electro: 33e7,
    electronic: 31e6,
    "nu metal": 25e5,
    dark: 23e4,
    futuristic: 22e3,
    pop: 1600,
    grunge: 150,
    guitar: 14,
  },
  anime: {
    rock: 24e9,
    pop: 23e8,
    piano: 13e7,
    epic: 12e6,
    japanese: 11e5,
    metal: 1e5,
    dark: 800,
    electro: 80,
  },
  dark: {
    synth: 76e9,
    electro: 73e8,
    rock: 71e7,
    metal: 68e6,
    pop: 61e5,
    electronic: 5e5,
    bass: 48e3,
    rap: 4600,
    synthwave: 430,
    drum: 38,
  },
  synthwave: {
    synth: 213e9,
    electro: 6e9,
    dark: 43e7,
    electronic: 37e6,
    pop: 31e5,
    disco: 3e5,
    "80s": 27e3,
    punk: 2400,
    bass: 240,
    beat: 22,
  },
  catchy: {
    pop: 85e9,
    guitar: 44e8,
    metal: 43e7,
    beat: 35e6,
    rock: 34e5,
    bass: 29e4,
    rap: 28e3,
    epic: 2600,
    "electric guitar": 200,
    edm: 19,
  },
  emo: {
    emotional: 341e9,
    pop: 122e8,
    rock: 87e7,
    piano: 49e6,
    rap: 49e5,
    sad: 45e4,
    ballad: 45e3,
    guitar: 3700,
    synth: 360,
    epic: 34,
  },
  synth: {
    synthwave: 213e9,
    pop: 16e9,
    electro: 131e7,
    electronic: 9e7,
    dark: 76e5,
    beat: 71e4,
    bass: 66e3,
    "80s": 5400,
    chill: 450,
    punk: 43,
  },
  "80s": {
    pop: 67e9,
    synth: 54e8,
    rock: 36e7,
    punk: 28e6,
    synthwave: 27e5,
    powerful: 24e4,
    electro: 22e3,
    opera: 2200,
    electronic: 210,
    "pop rock": 17,
  },
  electro: {
    electronic: 543e9,
    pop: 265e8,
    synth: 131e7,
    rock: 87e6,
    dark: 73e5,
    swing: 66e4,
    electropop: 64e3,
    metal: 6400,
    beat: 630,
    bass: 63,
  },
  electropop: {
    pop: 64e9,
    electro: 64e8,
    synth: 8e7,
    rap: 6e6,
    rock: 6e5,
    "r&b": 5e4,
    "male vocals": 5e3,
    dark: 400,
    synthwave: 40,
    emo: 4,
  },
  ballad: {
    pop: 81e9,
    rock: 51e8,
    emo: 45e7,
    emotional: 4e7,
    piano: 39e5,
    guitar: 24e4,
    sad: 23e3,
    "male voice": 2e3,
    acoustic: 140,
    metal: 12,
  },
  emotional: {
    emo: 341e9,
    pop: 85e8,
    rock: 48e7,
    piano: 41e6,
    ballad: 4e6,
    orchestral: 3e5,
    sad: 29e3,
    epic: 2800,
    rap: 250,
    guitar: 22,
  },
  country: {
    acoustic: 43e9,
    pop: 35e8,
    rock: 34e7,
    beat: 24e6,
    upbeat: 19e5,
    rap: 17e4,
    melodic: 15e3,
    folk: 1300,
    guitar: 130,
    heartfelt: 11,
  },
  house: {
    deep: 65e9,
    techno: 43e8,
    bass: 42e7,
    electro: 37e6,
    pop: 32e5,
    synth: 29e4,
    beat: 26e3,
    electronic: 2500,
    funk: 250,
    trance: 24,
  },
  experimental: {
    rock: 23e9,
    pop: 23e8,
    electro: 21e7,
    electronic: 2e7,
    funk: 19e5,
    jazz: 19e4,
    soul: 14e3,
    guitar: 1300,
    drum: 130,
    bass: 10,
  },
  industrial: {
    metal: 65e9,
    rock: 45e8,
    "hard rock": 32e7,
    electro: 27e6,
    synth: 15e5,
    dark: 12e4,
    deep: 9e3,
    bass: 800,
    pop: 70,
    synthwave: 7,
  },
  acoustic: {
    guitar: 83e9,
    pop: 78e8,
    "acoustic guitar": 69e7,
    folk: 57e6,
    country: 43e5,
    indie: 3e5,
    piano: 29e3,
    melodic: 2600,
    soul: 250,
    rock: 24,
  },
  powerful: {
    rock: 81e9,
    metal: 66e8,
    pop: 49e7,
    guitar: 44e6,
    opera: 41e5,
    drum: 33e4,
    bass: 27e3,
    epic: 2700,
    "80s": 240,
    "heavy metal": 24,
  },
  heartfelt: {
    pop: 19e9,
    acoustic: 11e8,
    country: 11e7,
    rock: 1e7,
    emo: 9e5,
    soul: 8e4,
    melodic: 7e3,
    ballad: 600,
    piano: 60,
    beat: 6,
  },
  "acoustic guitar": {
    acoustic: 69e9,
    guitar: 69e8,
    piano: 2e8,
    pop: 13e6,
    flute: 9e5,
    indie: 9e4,
    beat: 9e3,
    emo: 800,
    catchy: 70,
    rock: 7,
  },
  jazz: {
    pop: 59e9,
    funk: 58e8,
    rock: 41e7,
    swing: 38e6,
    soul: 34e5,
    electro: 32e4,
    bass: 3e4,
    rap: 2800,
    smooth: 280,
    blues: 27,
  },
  funk: {
    pop: 116e9,
    rock: 8e9,
    jazz: 58e7,
    bass: 56e6,
    soul: 53e5,
    "mutation funk": 52e4,
    "bounce drop": 48e3,
    dubstep: 4500,
    "math rock": 430,
    rap: 40,
  },
  indie: {
    pop: 137e9,
    rock: 97e8,
    "indie pop": 65e7,
    folk: 34e6,
    punk: 31e5,
    dreamy: 3e5,
    acoustic: 3e4,
    psychedelic: 2900,
    rap: 210,
    beat: 20,
  },
  dreamy: {
    pop: 74e9,
    indie: 3e9,
    psychedelic: 28e7,
    soul: 18e6,
    synth: 18e5,
    ethereal: 16e4,
    funk: 15e3,
    rap: 1400,
    emo: 130,
    electro: 13,
  },
  psychedelic: {
    pop: 42e9,
    rock: 33e8,
    soul: 3e8,
    indie: 29e6,
    dreamy: 28e5,
    funk: 23e4,
    electro: 17e3,
    jazz: 1500,
    electronic: 150,
    synth: 12,
  },
  "indie pop": {
    pop: 65e9,
    indie: 65e8,
    rock: 19e7,
    punk: 11e6,
    rap: 11e5,
    dreamy: 1e5,
    jazz: 9e3,
    funk: 900,
    psychedelic: 90,
    emo: 8,
  },
  punk: {
    pop: 148e9,
    rock: 124e8,
    metal: 51e7,
    synth: 43e6,
    guitar: 41e5,
    bass: 38e4,
    rap: 36e3,
    electro: 3400,
    dark: 330,
    indie: 31,
  },
  "pop rock": {
    pop: 85e9,
    rock: 85e8,
    opera: 17e7,
    "80s": 17e6,
    powerful: 16e5,
    punk: 14e4,
    metal: 7e3,
    ballad: 500,
    indie: 50,
    "male voice": 4,
  },
  mellow: {
    pop: 13e9,
    "lo-fi": 13e8,
    chill: 12e7,
    piano: 9e5,
    acoustic: 8e4,
    jazz: 8e3,
    "hip hop": 800,
    melodic: 70,
    folk: 6,
  },
  electronic: {
    electro: 543e9,
    pop: 162e8,
    synth: 9e8,
    rock: 58e6,
    beat: 51e5,
    dark: 5e5,
    dance: 48e3,
    metal: 4600,
    bass: 440,
    synthwave: 37,
  },
  ambient: {
    electro: 38e9,
    electronic: 33e8,
    techno: 26e7,
    trance: 24e6,
    house: 22e5,
    synth: 2e5,
    atmospheric: 18e3,
    pop: 1800,
    piano: 170,
    ethereal: 14,
  },
  piano: {
    pop: 97e9,
    guitar: 85e8,
    bass: 66e7,
    drum: 53e6,
    emo: 49e5,
    rock: 48e4,
    emotional: 41e3,
    sad: 4e3,
    ballad: 390,
    violin: 38,
  },
  grunge: {
    rock: 45e9,
    guitar: 18e8,
    metal: 17e7,
    pop: 15e6,
    "alternative rock": 15e5,
    melodic: 13e4,
    dark: 9e3,
    rap: 600,
    "hard rock": 60,
    "male vocals": 6,
  },
  "k-pop": {
    pop: 12e10,
    beat: 14e8,
    bass: 12e7,
    upbeat: 11e6,
    dance: 1e6,
    synth: 9e4,
    drum: 9e3,
    rock: 800,
    funk: 80,
    dreamy: 7,
  },
  dance: {
    pop: 145e9,
    electro: 58e8,
    electronic: 48e7,
    beat: 36e6,
    bass: 31e5,
    disco: 3e5,
    synth: 3e4,
    funk: 2900,
    rap: 210,
    house: 20,
  },
  disco: {
    synth: 43e9,
    pop: 4e9,
    funk: 35e7,
    electro: 35e6,
    dance: 3e6,
    synthwave: 3e5,
    beat: 2e4,
    bass: 1800,
    rock: 150,
    "80s": 14,
  },
  "nu metal": {
    metal: 114e9,
    rock: 52e8,
    rap: 33e7,
    electro: 3e7,
    electronic: 26e5,
    "alternative rock": 25e4,
    dark: 22e3,
    futuristic: 2200,
    melodic: 220,
    punk: 17,
  },
  sad: {
    pop: 5e10,
    emo: 45e8,
    piano: 4e8,
    guitar: 36e6,
    dark: 33e5,
    emotional: 29e3,
    rock: 2900,
    ballad: 230,
    "male voice": 22,
  },
  trap: {
    rap: 327e9,
    bass: 6e9,
    pop: 28e7,
    "hip hop": 27e6,
    beat: 25e5,
    electro: 18e4,
    guitar: 18e3,
    emo: 1700,
    aggressive: 170,
    melodic: 16,
  },
  smooth: {
    jazz: 28e9,
    pop: 26e8,
    "r&b": 22e7,
    soul: 19e6,
    piano: 11e5,
    beat: 11e4,
    bass: 1e4,
    funk: 1e3,
    guitar: 90,
    catchy: 9,
  },
  "male vocals": {
    "female vocals": 151e9,
    pop: 86e8,
    rock: 5e8,
    metal: 47e6,
    electro: 43e5,
    bass: 41e4,
    synth: 33e3,
    rap: 3200,
    emo: 310,
    electronic: 31,
  },
  "female vocals": {
    "male vocals": 151e9,
    pop: 35e8,
    rock: 27e7,
    bass: 22e6,
    electro: 22e5,
    synth: 19e4,
    metal: 19e3,
    electronic: 1700,
    guitar: 150,
    emo: 15,
  },
  upbeat: {
    beat: 366e9,
    pop: 197e8,
    electro: 34e7,
    rock: 28e6,
    electronic: 26e5,
    "male voice": 22e4,
    bass: 22e3,
    guitar: 2100,
    rap: 200,
    synth: 19,
  },
  groovy: {
    funk: 26e9,
    rock: 22e8,
    pop: 19e7,
    beat: 11e6,
    bass: 11e5,
    drum: 11e4,
    rap: 11e3,
    metal: 1e3,
    melodic: 90,
    reggae: 7,
  },
  futuristic: {
    electro: 36e9,
    electronic: 35e8,
    dark: 31e7,
    rock: 29e6,
    metal: 27e5,
    "alternative rock": 22e4,
    "nu metal": 22e3,
    pop: 1700,
    synth: 170,
    beat: 14,
  },
  chill: {
    synth: 45e9,
    pop: 44e8,
    "lo-fi": 35e7,
    electro: 28e6,
    bass: 25e5,
    electronic: 24e4,
    jazz: 21e3,
    piano: 2e3,
    beat: 180,
    house: 17,
  },
  edm: {
    pop: 58e9,
    bass: 38e8,
    rock: 33e7,
    electro: 27e6,
    electronic: 24e5,
    beat: 22e4,
    epic: 2e4,
    "male voice": 2e3,
    catchy: 190,
    emo: 19,
  },
  techno: {
    house: 43e9,
    trance: 28e8,
    ambient: 26e7,
    pop: 23e6,
    bass: 18e5,
    punk: 16e4,
    guitar: 16e3,
    electro: 1600,
    dark: 150,
    rock: 15,
  },
  cantonese: {
    pop: 27e9,
    rap: 19e8,
    "male voice": 11e7,
    rock: 7e6,
    dreamy: 7e5,
    synth: 5e4,
    opera: 4e3,
    "hip hop": 400,
    drum: 40,
    metal: 4,
  },
  melancholic: {
    rock: 2e10,
    emo: 18e8,
    pop: 15e7,
    acoustic: 15e6,
    sad: 12e5,
    indie: 11e4,
    bass: 11e3,
    folk: 1100,
    rap: 90,
    synth: 9,
  },
  gospel: {
    soul: 19e9,
    uplifting: 1e9,
    beat: 9e7,
    "r&b": 7e6,
    rock: 7e5,
    funk: 6e4,
    pop: 6e3,
    blues: 50,
    bass: 5,
  },
  folk: {
    acoustic: 57e9,
    rock: 46e8,
    pop: 35e7,
    indie: 34e6,
    guitar: 3e6,
    metal: 3e5,
    drum: 22e3,
    "male voice": 1800,
    dark: 17,
  },
  deep: {
    bass: 7e10,
    house: 65e8,
    "male voice": 35e7,
    rap: 29e6,
    beat: 29e5,
    metal: 26e4,
    "male vocals": 26e3,
    pop: 2300,
    electro: 220,
    rock: 22,
  },
  flute: {
    piano: 25e9,
    guitar: 25e8,
    violin: 15e7,
    bass: 15e6,
    drum: 13e5,
    epic: 13e4,
    acoustic: 11e3,
    folk: 1100,
    synth: 10,
  },
  soul: {
    "r&b": 69e9,
    pop: 6e9,
    funk: 53e7,
    blues: 48e6,
    rock: 36e5,
    jazz: 34e4,
    psychedelic: 3e4,
    emo: 2900,
    acoustic: 250,
  },
  blues: {
    soul: 48e9,
    rock: 33e8,
    guitar: 27e7,
    jazz: 27e6,
    acoustic: 19e4,
    bass: 15e3,
    pop: 1300,
    emo: 120,
    rap: 10,
  },
  romantic: {
    pop: 46e9,
    guitar: 12e8,
    rap: 12e7,
    ballad: 12e6,
    funk: 1e6,
    piano: 1e5,
    melodic: 1e4,
    experimental: 900,
    violin: 90,
    swing: 9,
  },
  uplifting: {
    pop: 51e9,
    rock: 2e9,
    drum: 15e7,
    bass: 14e6,
    melodic: 13e5,
    piano: 13e4,
    "hip hop": 11e3,
    gospel: 1e3,
    guitar: 90,
    epic: 9,
  },
  progressive: {
    metal: 54e9,
    rock: 26e8,
    guitar: 26e7,
    synth: 25e6,
    aggressive: 22e5,
    electro: 2e4,
    house: 1900,
    melodic: 180,
    dark: 15,
  },
  atmospheric: {
    dark: 28e9,
    piano: 24e8,
    synth: 23e7,
    electro: 21e6,
    pop: 19e5,
    electronic: 18e4,
    ambient: 18e3,
    ethereal: 1500,
    cinematic: 140,
    rock: 13,
  },
  "electric guitar": {
    guitar: 12e10,
    rock: 44e8,
    metal: 29e7,
    drum: 29e6,
    bass: 24e5,
    catchy: 2e5,
    "90s": 16e3,
    powerful: 1400,
    piano: 120,
    pop: 12,
  },
  violin: {
    piano: 38e9,
    guitar: 29e8,
    bass: 22e7,
    pop: 21e6,
    drum: 19e5,
    edm: 16e4,
    beat: 15e3,
    "male vocals": 1500,
    flute: 150,
    electro: 14,
  },
  aggressive: {
    metal: 95e9,
    rap: 66e7,
    rock: 39e6,
    guitar: 34e5,
    "heavy metal": 28e4,
    bass: 27e3,
    phonk: 2600,
    progressive: 220,
    pop: 21,
  },
  phonk: {
    aggressive: 26e8,
    bass: 18e7,
    rap: 9e6,
    emo: 9e5,
    beat: 9e4,
    drum: 8e3,
    electro: 800,
    piano: 80,
    deep: 8,
  },
  vocaloid: {
    pop: 43e9,
    funk: 32e8,
    rock: 31e7,
    "j-pop": 31e6,
    bass: 23e5,
    "math rock": 23e4,
    "bounce drop": 23e3,
    "mutation funk": 2300,
    dubstep: 220,
  },
  reggae: {
    beat: 22e9,
    pop: 18e8,
    dance: 15e7,
    rap: 14e6,
    upbeat: 12e5,
    electro: 1e5,
    melodic: 9e3,
    rock: 900,
    acoustic: 80,
    "male voice": 7,
  },
  ethereal: {
    pop: 19e9,
    dreamy: 16e8,
    synth: 16e7,
    atmospheric: 15e6,
    ambient: 14e5,
    folk: 13e4,
    emo: 12e3,
    rock: 1100,
    dark: 100,
    electro: 9,
  },
  "math rock": {
    rock: 6e10,
    funk: 43e8,
    "mutation funk": 43e7,
    "bounce drop": 42e6,
    dubstep: 41e5,
    pop: 37e4,
    "j-pop": 34e3,
    vocaloid: 2300,
    rap: 160,
    edm: 10,
  },
  "female singer": {
    pop: 21e9,
    synth: 15e8,
    piano: 14e7,
    electronic: 12e6,
    electro: 12e5,
    synthwave: 1e5,
    dark: 1e4,
    atmospheric: 1e3,
    melodic: 100,
    rock: 10,
  },
  intense: {
    metal: 38e9,
    rock: 24e8,
    epic: 23e7,
    drum: 17e6,
    aggressive: 16e5,
    bass: 15e4,
    guitar: 11e3,
    "heavy metal": 80,
    electro: 8,
  },
  energetic: {
    pop: 3e10,
    beat: 26e8,
    rock: 2e8,
    synth: 19e6,
    upbeat: 19e5,
    electro: 18e4,
    electronic: 13e3,
    bass: 900,
    guitar: 90,
    drum: 8,
  },
  swing: {
    electro: 66e9,
    jazz: 38e8,
    funk: 27e7,
    guitar: 15e6,
    violin: 13e5,
    bass: 12e3,
    rock: 1200,
    "lo-fi": 110,
    experimental: 10,
  },
  anthemic: {
    rock: 33e9,
    pop: 21e8,
    emo: 6e7,
    beat: 6e6,
    melodic: 6e5,
    "male vocals": 5e4,
    catchy: 5e3,
    classical: 500,
    rap: 40,
    dark: 4,
  },
  trance: {
    techno: 28e9,
    house: 24e8,
    ambient: 24e7,
    pop: 12e6,
    bass: 11e5,
    edm: 9e4,
    guitar: 9e3,
    melodic: 80,
    violin: 7,
  },
  "bounce drop": {
    funk: 48e9,
    "mutation funk": 48e8,
    dubstep: 43e7,
    rock: 42e6,
    "math rock": 42e5,
    pop: 38e4,
    "j-pop": 33e3,
    vocaloid: 2300,
    rap: 160,
    edm: 8,
  },
  "j-pop": {
    pop: 157e9,
    rock: 57e8,
    funk: 37e7,
    dubstep: 35e6,
    "mutation funk": 35e5,
    "math rock": 34e4,
    "bounce drop": 33e3,
    vocaloid: 3100,
    bass: 150,
    upbeat: 15,
  },
  dubstep: {
    rock: 54e9,
    pop: 51e8,
    funk: 45e7,
    "mutation funk": 44e6,
    "bounce drop": 43e5,
    "math rock": 41e4,
    "j-pop": 35e3,
    rap: 3100,
    bass: 310,
    electro: 26,
  },
  "90s": {
    metal: 19e9,
    guitar: 18e8,
    catchy: 18e7,
    "electric guitar": 16e6,
    rock: 13e5,
    rap: 12e4,
    pop: 11e3,
    dance: 700,
    soul: 6,
  },
  classical: {
    piano: 2e10,
    guitar: 14e8,
    orchestral: 12e7,
    dark: 11e6,
    rock: 11e5,
    powerful: 9e4,
    pop: 8e3,
    violin: 800,
    dramatic: 7,
  },
  "mutation funk": {
    funk: 52e9,
    "bounce drop": 48e8,
    dubstep: 44e7,
    rock: 43e6,
    "math rock": 43e5,
    pop: 4e5,
    "j-pop": 35e3,
    vocaloid: 2300,
    rap: 140,
    edm: 10,
  },
};

// --- Main Seeding Logic ---

async function runSeed() {
  console.log("Starting database seeding process...");

  // 1. Extract all unique tags into a Set for automatic deduplication
  const allStaticTags = new Set();

  // Add tags from the first list
  Object.keys(staticTagsObject).forEach((tag) => allStaticTags.add(tag));

  // Add all tags from the nested related-tags object
  Object.keys(relatedTagsObject).forEach((parentTag) => {
    allStaticTags.add(parentTag);
    Object.keys(relatedTagsObject[parentTag]).forEach((childTag) => {
      allStaticTags.add(childTag);
    });
  });

  console.log(`Found ${allStaticTags.size} unique tags in the static data.`);

  // 2. Connect to the database
  const db = await open({
    filename: "./suno_tags.db",
    driver: sqlite3.Database,
  });

  // 3. Find which tags are already in our database
  const existingDbTagsResult = await db.all("SELECT name FROM tags");
  const existingDbTagNames = new Set(existingDbTagsResult.map((t) => t.name));

  console.log(`Found ${existingDbTagNames.size} tags already in the database.`);

  // 4. Determine which tags are new
  const newTagsToProcess = [...allStaticTags].filter(
    (tag) => !existingDbTagNames.has(tag)
  );

  if (newTagsToProcess.length === 0) {
    console.log("Database is already up to date. No new tags to add. Exiting.");
    await db.close();
    return;
  }

  console.log(
    `Found ${newTagsToProcess.length} new tags to categorize and add.`
  );

  // 5. Categorize the new tags using our AI module
  const categorizedTags = await categorizeTags(newTagsToProcess);

  // 6. Insert the newly categorized tags into the database
  const statement = await db.prepare(
    "INSERT INTO tags (name, category) VALUES (?, ?)"
  );
  let insertedCount = 0;

  for (const tagName of newTagsToProcess) {
    const category = categorizedTags[tagName] || "Miscellaneous / Meta";
    const result = await statement.run(tagName, category);
    if (result.changes > 0) {
      insertedCount++;
    }
  }
  await statement.finalize();
  await db.close();

  console.log(`\n--- Seeding Complete! ---`);
  console.log(
    `Successfully inserted ${insertedCount} new tags into the database.`
  );
}

// Run the main function and handle any errors
runSeed().catch((err) => {
  console.error("An error occurred during the seeding process:", err);
});
